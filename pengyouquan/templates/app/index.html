<!DOCTYPE html> {% load staticfiles %}
<html lang="zh-CN">

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">
        <title>Dashboard Template for Bootstrap</title>
        <!-- Bootstrap core CSS -->
        <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
        <!-- Custom styles for this template -->
        <link href="{% static 'css/dashboard.css' %}" rel="stylesheet">
        <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
        <!--[if lt IE 9]>
  <script src="../../assets/js/ie8-responsive-file-warning.js"></script>
  <![endif]-->
        <script src="{% static 'js/ie-emulation-modes-warning.js' %}"></script>
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
  <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
        <!--tree-->
        <style type="text/css">
        .node {
                cursor: pointer;
        }
        
        .overlay {
                background-color: #EEE;
        }
        
        .node circle {
                fill: #fff;
                stroke: steelblue;
                stroke-width: 1.5px;
        }
        
        .node text {
                font-size: 10px;
                font-family: sans-serif;
        }
        
        .link {
                fill: none;
                stroke: #ccc;
                stroke-width: 1.5px;
        }
        
        .templink {
                fill: none;
                stroke: red;
                stroke-width: 3px;
        }
        
        .ghostCircle.show {
                display: block;
        }
        
        .ghostCircle,
        .activeDrag .ghostCircle {
                display: none;
        }
        </style>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        
      <!--
       <script language="JavaScript" type="text/javascript">
              //页面加载前执行的脚本
              alert("打开页面就执行的代码!");
              
              //页面加载后执行的函数
              function window_onload() {
                      alert("页面加载完毕后才执行的代码!");
              }
       </script>
       -->
        <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
        <script>
        $(document).ready(function(){
              for (var i = 1; i < 7; i++) {
                    $('#userinfo' + i).bind('click', {'id': i },
                            function(e){
                                  userclick(e);
                            } 
                    )
              };

              function userclick(e){
                     var Dict = {{ data_dict|safe }}
                     alert(Dict[e.data.id].name + Dict[e.data.id].uid);
                     $.getJSON('getuserinfo/', {'uid' : Dict[e.data.id].uid}, function(ret){
                            
                     })
              }
        })
        </script>
</head>

<body  onload="window_onload();"> <!--设置页面加载后运行的脚本-->
        <nav class="navbar navbar-inverse navbar-fixed-top">
                <div class="container-fluid">
                        <div class="navbar-header">
                                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                </button>
                                <a class="navbar-brand" href="#">朋友圈</a>
                        </div>
                        <div id="navbar" class="navbar-collapse collapse">
                                <ul class="nav navbar-nav navbar-right">
                                        <li>
                                                <a href="#">Dashboard</a>
                                        </li>
                                        <li>
                                                <a href="#">Settings</a>
                                        </li>
                                        <li>
                                                <a href="#">Profile</a>
                                        </li>
                                        <li>
                                                <a href="#">Help</a>
                                        </li>
                                </ul>
                                <form class="navbar-form navbar-right">
                                        <input type="text" class="form-control" placeholder="Search...">
                                </form>
                        </div>
                </div>
        </nav>
        <div class="container-fluid">
                <div class="row">
                        <div class="col-sm-3 col-md-2 sidebar">
                                {% if user_list %}
                                          <ul class="nav nav-sidebar">
                                                {% for user in user_list %}
                                                        {% if forloop.counter == 1%}
                                                               <script >
                                                                      var a = "{{ user_list|first }}"
                                                                      alert(a)
                                                               </script>

                                                               <script src="{% static 'js/dndTree.js' %}"></script>
                                                        {% endif %}
                                                        <li>
                                                              <a href="#" id = 'userinfo{{forloop.counter}}' data = {{ user.uid }}>{{ user.name }}</a>
                                                        </li>
                                                {% endfor %}
                                          </ul>
                                {% endif %}
                        </div>
                        <!--tree-->
                        <div id="tree-container"></div>
                </div>
        </div>
        <!-- Bootstrap core JavaScript
    ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="{% static 'js/jquery.js' %}"></script>
        <script src="{% static 'js/bootstrap.js' %}"></script>
        <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
        <!--script src="../../assets/js/vendor/holder.min.js"></script-->
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>
</body>

</html>
